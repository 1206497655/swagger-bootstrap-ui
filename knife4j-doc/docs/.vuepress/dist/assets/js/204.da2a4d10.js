(window.webpackJsonp=window.webpackJsonp||[]).push([[204],{177:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("knife4j-admin采用前后端分离的方式进行部署")]),t._v(" "),s("p",[t._v("java环境")]),t._v(" "),t._m(1),s("p",[t._v("Linux:")]),t._v(" "),t._m(2),t._m(3),t._v(" "),s("p",[t._v("服务端必须安装Nginx，具体的安装教程可以自行搜索,这里不再说明.")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("前往"),s("router-link",{attrs:{to:"./knife4j-admin-download.html"}},[t._v("发行版地址")]),t._v("进行下载")],1),t._v(" "),s("p",[t._v("发行版一般是以zip压缩包形式进行发布,压缩包中包含jar可运行文件以及一个front的前端文件")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("文件的整体结构如下：")]),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),s("p",[t._v("当然,程序的端口号开发者也可自行更改")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),s("p",[t._v("通过Linux终端执行命令进行启动")]),t._v(" "),t._m(16),t._m(17),t._v(" "),s("p",[t._v("当我们的后台服务启动好之后,我们还需要配置一个对外的Nginx端口")]),t._v(" "),t._m(18),t._v(" "),t._m(19),s("p",[t._v("此Nginx的配置是目前knife4j提供的测试地址,开发者如果没有域名,可以自行使用端口号等进行配置即可")]),t._v(" "),t._m(20),t._v(" "),s("p",[t._v("Nginx的环境配置好后,启动Nginx即可")]),t._v(" "),s("p",[t._v("服务启动")]),t._v(" "),t._m(21),s("p",[t._v("如果Nginx未安装成系统服务,则可以命令行启动")]),t._v(" "),t._m(22),t._v(" "),s("comment-comment")],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"部署手册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署手册","aria-hidden":"true"}},[this._v("#")]),this._v(" 部署手册")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v('[root@iZbt ~]# java -version\njava version "1.8.0_144"\nJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\n')])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("[root@iZbt ~]# lsb_release -a\nLSB Version:    :core-4.1-amd64:core-4.1-noarch\nDistributor ID:    CentOS\nDescription:    CentOS Linux release 7.4.1708 (Core) \nRelease:    7.4.1708\nCodename:    Core\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装Nginx")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"下载最新发行版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载最新发行版","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载最新发行版")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"安装部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装部署")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("假设部署路径在服务器的"),a("code",[this._v("/mnt/application/kadmin")]),this._v("目录下")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("|-kadmin\n|----data    //数据目录,可以为空,在部署时该目录必须先手工创建\n|----front   //由zip包解压得到\n|----logs    //程序的日志目录,在部署时该目录必须先手工创建\n|----startup.sh //启动脚本,必须使用chmod+x startup.sh 命令赋予可执行权限\n|----knife4j-admin-1.0.jar //由zip包解压得到\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"修改配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 修改配置文件")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("在knife4j-admin程序中,如果你的部署目录不是"),a("code",[this._v("/mnt/application/kadmin")]),this._v("，那么需要修改jar包中的"),a("code",[this._v("application-prod.yml")]),this._v("配置文件")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("application-prod.yml")]),this._v(":")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("server:\n# 端口号\n  port: 17808 \nknife4j:\n  # 监听项目目录 \n  monitor: /mnt/application/kadmin/data \n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("必须修改"),a("code",[this._v("knife4j.monitor")]),this._v("中的监测目录,该目录是可以由开发者自行更改,更改后在替换jar包中的文件即可")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"启动程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动程序","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动程序")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("knife4j-admin提供的是一个Spring Boot的可执行jar包,因此,"),a("code",[this._v("startup.sh")]),this._v("的可执行文件内容如下：")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("nohup java -Xms512m -Xmx512m -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=256m -XX:MaxNewSize=256m -jar /mnt/application/kadmin/knife4j-admin-1.0.jar >> /dev/null 2>&1 &\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("[root@izbt kadmin]# ./startup.sh\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"配置nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置Nginx")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("kadmin.conf")]),this._v("：")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-nginx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  kadmin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xiaominfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 后台服务")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17808")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("client_max_body_size")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 前端文件")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\\"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("icon"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("gif"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("jpg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("jpeg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("png"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("html"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("css"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("txt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("xml"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("swf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("wav"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mnt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("application"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("kadmin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("front"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"启动nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动Nginx")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("[root@izbt kadmin]# service nginx start\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("[root@izbt kadmin]# cd /usr/local/nginx\n[root@izbt nginx]# sbin/nginx\n")])])])}],!1,null,null,null);a.default=n.exports}}]);